!function(t,n){void 0===t&&void 0!==window&&(t=window),"function"==typeof define&&define.amd?define([],function(){return t.GuavaJS=n()}):"object"==typeof module&&module.exports?module.exports=n():t.GuavaJS=n()}(this,function(){var n,e,r,o,t,c,l,u,s,a,f,p,h,m,g,y,d,v,N,O,C,E,S,w,A,b,M,R,L,I,T,x,F,G,j,U,q=q||{isNull:D,isArray:X,isString:function(t){return"string"==typeof t||t instanceof String},isObject:e=function(t){return!D(t)&&"object"==typeof t},isNumber:function(t){return!D(t)&&"number"==typeof t},isBoolean:function(t){return!D(t)&&"boolean"==typeof t},isFunction:n=function(t){return!D(t)&&"function"==typeof t},isIterable:function(t){return n(t.forEach)||X(t)||e(t)},randomInt:function(t,n){return min=Math.ceil(t),max=Math.floor(n),Math.floor(H(min,max))},randomIntExclusive:function(t,n){return min=Math.ceil(t),max=Math.floor(n),Math.floor(B(min,max))},randomNumber:H,randomNumberExclusive:B};function D(t){return null==t}function X(t){return!D(t)&&Array.isArray(t)}function B(t,n){return Math.random()*(n-t)+t}function H(t,n){return Math.random()*(n-t+1)+t}function k(n){function r(t){return e<=t}function t(t,n){if(r(t)&&!q.isNull(l)){var e=Array.prototype.slice.call(n);e.unshift(u),e.unshift(t);try{l.log.apply(i,e)}catch(t){}}}var i=this,u=n,e=c.NONE;return{setLevel:function(t){e=t},isTraceEnabled:function(){return r(c.TRACE)},isDebugEnabled:function(){return r(c.DEBUG)},isInfoEnabled:function(){return r(c.INFO)},isWarnEnabled:function(){return r(c.WARN)},isErrorEnabled:function(){return r(c.ERROR)},trace:function(){t(c.TRACE,arguments)},debug:function(){t(c.DEBUG,arguments)},info:function(){t(c.INFO,arguments)},warn:function(){t(c.WARN,arguments)},error:function(){t(c.ERROR,arguments)},startGroup:function(t){e<c.NONE&&l.startGroup(n,t)},endGroup:function(){e<c.NONE&&l.endGroup()},table:function(t,n){e<c.NONE&&l.table(t,n)}}}function J(t){var n=u[t];return q.isNull(n)&&(n=k(t),u[t]=n),n}function W(t,n){if(!s(t)){if(!a(t)&&!isNaN(t))return Number(t);if(a(t))return t}return n}function K(t){return p(t,"")}function V(t,n){for(i=0;i<n.length;i++)if(t.matches(n.charAt(i)))return!0;return!1}function z(t,n){return!V(t,n)}function _(t,n){for(i=0;i<n.length;i++)if(!t.matches(n.charAt(i)))return!1;return!0}function P(t){if(!m(t)){if(1==t.length)return r=t,{matches:function(t){return r==t},matchesAnyOf:function(t){return V(this,t)},matchesNoneOf:function(t){return z(this,t)},matchesAllOf:function(t){return _(this,t)},negate:function(){return g(this)}};if(2==t.length)return n=t[0],e=t[1],{matches:function(t){return n==t||e==t},matchesAnyOf:function(t){return V(this,t)},matchesNoneOf:function(t){return z(this,t)},matchesAllOf:function(t){return _(this,t)},negate:function(){return g(this)}}}var n,e,r,i;return i=h.nullToEmpty(t),{matches:function(t){return h.contains(i,t)},matchesAnyOf:function(t){return V(this,t)},matchesNoneOf:function(t){return z(this,t)},matchesAllOf:function(t){return _(this,t)},negate:function(){return g(this)}}}function Q(t,n,e){return e=N.nullToEmpty(e),t&&(e=N.trim(e)),n&&N.isNullOrEmpty(e)?null:e}function Z(t){function u(t){return Q(e,r,t)}var o=t,e=!1,r=!1;return{trimResults:function(){return e=!0,this},omitEmptyStrings:function(){return r=!0,this},split:function(t){var n=new Array;if(!N.isNullOrEmpty(t)){var e="";for(i=0;i<t.length;i++){var r=t.charAt(i);o.matches(r)?(null!=(e=u(e))&&n.push(e),e=""):e+=r}null!=(e=u(e))&&n.push(e)}return n},withKeyValueSeparator:function(t){var n=t;return O(t)&&(n=q.Strings.CharMatcher.anyOf(t)),C(n,o,e,r)}}}return q.Booleans=q.Booleans||(r=q.isNull,{toString:function(t){return t?"t":"f"},toInt:function(t){return!r(t)&&t?1:0},fromString:function(t){if(!r(t)){var n=t.toLowerCase();if("1"==n||"true"==n||"t"==n)return!0}return!1},fromInt:function(t){return!r(t)&&1<=t}}),q.Collect=q.Collect||{},q.Collect.Multimap=q.Collect.Multimap||{},q.Collect.Multimap._=q.Collect.Multimap._||function(e){function r(t,n){var e=s(t);if("function"==typeof e.push)e.push(n);else{if("function"!=typeof e.put)throw"Now way to push or put with sub collection";e.put(n)}}function i(t,n){var e=s(t);if("function"==typeof e.push)u.iterate(n,function(t){e.push(t)});else{if("function"!=typeof e.put)throw"Now way to push or put with sub collection";u.iterate(n,function(t){e.put(t)})}}var u=q.Collect.Iterables,o=q.isNull,c=q.isIterable,l={},s=function(t){var n=l[t];return o(n)&&(n=e(),l[t]=n),n};return{get:s,clear:function(){l={}},remove:function(t,n){var e=l[t];if(!o(e)){var r=u.indexOf(e,n);if(-1<r)return e.splice(r,1),!0}return!1},removeAll:function(t){var n=l[t];return!o(n)&&(n=e(),l[t]=n,!0)},put:r,push:r,putAll:i,pushAll:i,size:function(){return u.size(l)},forEach:function(t){u.iterate(l,t)},extend:function(t){u.iterate(t,function(t,n){(c(t)?i:r)(n,t)})}}},q.Collect.Multimap.ListMultimap=q.Collect.Multimap.ListMultimap||function(){return q.Collect.Multimap._(function(){return[]})},q.Collect.Multimap.FlatListMultimap=q.Collect.Multimap.FlatListMultimap||function(){var e=q.Collect.Multimap.ListMultimap(),t={};for(var n in e)t[n]=e[n];return t.get=function(t){var n=e.get(t);return 1==n.length?n[0]:0==n.length?null:n},t},q.Concurrent=q.Concurrent||{timeoutCallback:function(t,n,e){var r=setTimeout(function(){t=function(){},n()},e);return function(){clearTimeout(r),t.apply(this,arguments)}}},q.Concurrent.Futures=q.Concurrent.Futures||(o=q.Collect.Iterables,{Future:function(){function t(){r||(i=Array.prototype.slice.call(arguments),e=!0,o.isNullOrEmpty(u)||(o.iterate(u,function(t){try{t.apply(n,i)}catch(t){}}),u=new Array))}var n=this,e=!1,r=!1,i=null,u=new Array;return t.addCallback=function(t){r||(e?t.apply(n,i):u.push(t))},t.isDone=function(){return e||r},t.get=function(){return i},t.cancel=function(){r=!0},t.isCancelled=function(){return r},t}}),q.LoggingLevels=q.LoggingLevels||{TRACE:-1,DEBUG:0,INFO:1,WARN:2,ERROR:3,NONE:4},q.LoggingConsole=q.LoggingConsole||function(){var i=q.LoggingLevels,u="undefined"!=typeof console;return{log:function(t,n){if(u){var e=Array.prototype.slice.call(arguments);e.shift(),e.shift();var r="["+(new Date).getTime()+"]["+n+"]";q.isString(e[0])&&(r+=" "+e.shift()),e.unshift(r),t==i.TRACE?console.trace.apply(console,e):t==i.DEBUG?console.debug.apply(console,e):t==i.INFO?console.info.apply(console,e):t==i.WARN?console.warn.apply(console,e):t==i.ERROR&&console.error.apply(console,e)}},startGroup:function(t,n){u&&console.group&&console.groupCollapsed("["+t+"] "+n)},endGroup:function(){u&&console.groupEnd&&console.groupEnd()},table:function(t,n){u&&console.table&&console.table(t,n)}}},q.LoggingFactory=q.LoggingFactory||(t=q.LoggingConsole(),c=q.LoggingLevels,l=t,u={},{Levels:c,getLogger:J,setLevel:function(t,n){J(t).setLevel(n)},setLoggerImplementation:function(t){l=t}}),q.Numbers=q.Numbers||(s=q.isNull,a=q.isNumber,{nullTo:W,nullToZero:function(t){return W(t,0)}}),q.Strings=q.Strings||(f=q.isNull,q.isString,{empty:"",none:"null",isNullOrEmpty:function(t){return!(!f(t)&&""!=t)},nullTo:p=function(t,n){return f(t)?n:t},nullToEmpty:K,contains:function(t,n){return!f(t)&&0!=~t.indexOf(n)},trim:function(t){return K(t).trim()}}),q.Strings.CharMatcher=q.Strings.CharMatcher||(h=q.Strings,m=q.isNull,g=function(n){return{matches:function(t){return!n.matches(t)},matchesAnyOf:function(t){return V(this,t)},matchesNoneOf:function(t){return z(this,t)},matchesAllOf:function(t){return _(this,t)},negate:function(){return g(this)}}},{anyOf:P,noneOf:function(t){return P(t).negate()},and:function(n,e){return{matches:function(t){return n.matches(t)&&e.matches(t)},matchesAnyOf:function(t){return V(this,t)},matchesNoneOf:function(t){return z(this,t)},matchesAllOf:function(t){return _(this,t)},negate:function(){return g(this)}}},or:function(n,e){return{matches:function(t){return n.matches(t)||e.matches(t)},matchesAnyOf:function(t){return V(this,t)},matchesNoneOf:function(t){return z(this,t)},matchesAllOf:function(t){return _(this,t)},negate:function(){return g(this)}}},inRange:function(t,n){var e=t.charCodeAt(0),r=n.charCodeAt(0);return{matches:function(t){var n=t.charCodeAt(0);return e<=n&&n<=r},matchesAnyOf:function(t){return V(this,t)},matchesNoneOf:function(t){return z(this,t)},matchesAllOf:function(t){return _(this,t)},negate:function(){return g(this)}}}}),q.Strings.Joiner=q.Strings.Joiner||(y=q.Strings,d=q.isNull,v=function(t,n,e,r){var i=q.Collect.Iterables,u=t,o=n,c=e,l=r;return{skipNulls:function(){return c=!0,this},nullsToEmpty:function(){return l=!0,this},join:function(t){var e=[];return d(t)||i.iterate(t,function(t,n){i.iterate(t,function(t){!c&&d(t)?l?e.push(n+o+y.empty):e.push(n+o+y.none):d(t)||e.push(n+o+t)})}),e.join(u)}}},{on:function(t){return i=t,o=u=!1,{skipNulls:function(){return u=!0,this},nullsToEmpty:function(){return o=!0,this},join:function(t){var n=[];if(!d(t))for(var e=0;e<t.length;e++){var r=t[e];!u&&d(r)?o?n.push(y.empty):n.push(y.none):d(r)||n.push(r)}return n.join(i)},withKeyValueSeparator:function(t){return v(i,t,u,o)}};var i,u,o}}),q.Strings.Splitter=q.Strings.Splitter||(N=q.Strings,O=q.isString,C=function(t,n,e,r){function o(t){return Q(u,a,t)}var c=q.Collect.Multimap,l=t,s=n,u=e,a=r;return{trimResults:function(){return u=!0,this},omitEmptyStrings:function(){return a=!0,this},split:function(t){var n=c.FlatListMultimap();if(!N.isNullOrEmpty(t)){var e=null,r="";for(i=0;i<t.length;i++){var u=t.charAt(i);l.matches(u)?(e=r,r=""):s.matches(u)?(r=o(r),null!=e&&null!=r&&n.push(e,r),r="",e=null):r+=u}null!=(r=o(r))&&null!=e&&n.push(e,r)}return n}}},{on:function(t){if(O(t)){var n=q.Strings.CharMatcher.anyOf(t);return Z(n)}return Z(t)}}),q.Net=q.Net||(E=q.isNull,S=q.isObject,w=q.isFunction,A={xhr:function(t){var n=(t=t||{}).withCredentials||!1,e=t.timeout||0,r=new window.XMLHttpRequest;if(r.timeout=e,n)if("withCredentials"in r)r.withCredentials=!0;else{if("undefined"==typeof XDomainRequest)throw"CORS not supported by browser";r=new XDomainRequest}return r},supported:function(){return w(window.XMLHttpRequest)||S(window.XMLHttpRequest)},get:function(t,n,e){var r=this.xhr(n);if(r.open("GET",t),r.send(),!E(e))return r.onreadystatechange=function(){if(4===r.readyState)return e(r.responseText,r.responseXML)}},post:function(t,n,e,r){var i=this.xhr(e);if(i.open("POST",t),i.setRequestHeader("Content-type","application/x-www-form-urlencoded"),i.send(n),!E(r))return i.onreadystatechange=function(){if(4==i.readyState&&200==i.status)return r(i.responseText,i.responseXML)}}},{post:function(t,n,e,r){try{if(!A.supported())throw"XHR isn't supported";A.post(t,n,r,e)}catch(t){throw t}},get:function(t,n,e){try{if(!A.supported())throw"XHR isn't supported";A.get(t,e,n)}catch(t){throw t}},getImg:function(t){document.createElement("img").src=t}}),q.Net.Uri=q.Net.Uri||(R=q.isFunction,L=q.isIterable,I=q.Collect,T=I.Iterables,x=I.Multimap.FlatListMultimap,F=q.Strings,G=F.Joiner,j=F.Splitter,b=G.on("&").withKeyValueSeparator("=").skipNulls(),M=j.on("&").withKeyValueSeparator("=").trimResults().omitEmptyStrings(),{create:function(t){var n,e,r,i,u,o,c="",l="",s="",a="",f="",p=t.split("//",2);return 2==p.length&&(l=p[0].replace(":",""),t=p[1]),2<=(p=t.split("/")).length?(s=p.shift(),2==(n=p.join("/").split("?")).length?(a=n[0],f=n[1]):a=n[0]):2==(n=t.split("?")).length?(s=n[0],f=n[1]):s=t,F.isNullOrEmpty(l)||(c+=l+"://"),c+=s,F.isNullOrEmpty(a)||(c+="/"+a),e=c,r=l,i=s,u=a,o=U.fromString(f),{scheme:r,host:i,path:u,base:e,queryString:o,queryStr:o,query:o,toString:function(){var t=e;return 0<o.size()&&(t+="?"+o.toString()),t}}},QueryString:U={fromString:function(t){var e=function(){var r=x(),i={};for(var t in r)i[t]=r[t];return i.put=function(n,t,e){if(!L(t))return R(e)?r.put(n,e(t)):r.put(n,t);T.iterate(t,function(t){i.put(n,t,e)})},i.putAll=i.put,i.toString=function(){var e=x();return T.iterate(i,function(t,n){L(t)?T.iterate(t,function(t){e.put(n,encodeURIComponent(t))}):e.put(n,encodeURIComponent(t))}),b.join(e)},i.toStringUnencoded=function(){return b.join(i)},i}(),n=M.split(t);return T.iterate(n,function(t,n){e.putAll(n,t,decodeURIComponent)}),e}}}),q});