GuavaJS.Net.Uri=GuavaJS.Net.Uri||function(){var a=GuavaJS.isFunction,b=GuavaJS.isIterable,c=GuavaJS.Collect,d=c.Iterables,e=c.Multimap.FlatListMultimap,f=GuavaJS.Strings,g=f.Joiner,h=f.Splitter,i=function(){var c=g.on("&").withKeyValueSeparator("=").skipNulls(),f=h.on("&").withKeyValueSeparator("=").trimResults().omitEmptyStrings(),i=function(){var f=e(),g={};for(var h in f)g[h]=f[h];return g.put=function(c,e,h){return b(e)?void d.iterate(e,function(a){g.put(c,a,h)}):a(h)?f.put(c,h(e)):f.put(c,e)},g.putAll=g.put,g.toString=function(){var a=e();return d.iterate(g,function(c,e){b(c)?d.iterate(c,function(b){a.put(e,encodeURIComponent(b))}):a.put(e,encodeURIComponent(c))}),c.join(a)},g.toStringUnencoded=function(){return c.join(g)},g};return{fromString:function(a){var b=i(),c=f.split(a);return d.iterate(c,function(a,c){b.putAll(c,a,decodeURIComponent)}),b}}}(),j=function(a,b,c,d,e){return{scheme:b,host:c,path:d,base:a,queryString:e,queryStr:e,query:e,toString:function(){var b=a;return e.size()>0&&(b+="?"+e.toString()),b}}},k=function(a){var b="",c="",d="",e="",g="",h=a.split("//",2);if(2==h.length&&(c=h[0].replace(":",""),a=h[1]),h=a.split("/"),h.length>=2){d=h.shift();var k=h.join("/").split("?");2==k.length?(e=k[0],g=k[1]):e=k[0]}else{var k=a.split("?");2==k.length?(d=k[0],g=k[1]):d=a}return f.isNullOrEmpty(c)||(b+=c+"://"),b+=d,f.isNullOrEmpty(e)||(b+="/"+e),j(b,c,d,e,i.fromString(g))};return{create:k,QueryString:i}}();